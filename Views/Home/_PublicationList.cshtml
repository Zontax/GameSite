@using Humanizer
@model List<Publication>

<div>
    @foreach (var publication in ViewBag.Publications)
    {
        <div class="publication" style="background-color: rgb(199, 199, 199)">
            <h3><b>@publication.Id</b> @publication.Title</h3>
            <b style="color: @(MyVoids.GetColorCode(publication.TypeId))">@publication.TypeId</b>
            <p>@publication.Content</p>
            <p>@publication.Author</p>
            <p><a href="@Url.Action("Show", "Home", new { id = publication.Id })">Переглянути</a></p>

            <p title="@publication.Date.ToString("yyyy-MM-dd HH:mm")">
                @(DateTime.Now.Add(-((TimeSpan)(DateTime.Now - publication.Date))).Humanize())</p>

            <p>Коментарів: @(ViewBag.CommentsCount.ContainsKey(publication.Id) ?
            ViewBag.CommentsCount[publication.Id] : 0)</p>
        </div>
    }
</div>